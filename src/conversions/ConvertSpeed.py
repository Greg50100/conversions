from conversions.conversion_frame import ConversionFrame
import math

class ConvertSpeed:
    units = [
            "meters_per_second",
            "kilometers_per_hour",
            "miles_per_hour",
            "knots",
            "minutes_per_kilometer",
            "feet_per_second",
            "kilometers_per_second",
            "meters_per_hour",
            "kilometers_per_minute",
            "miles_per_second",
            "miles_per_minute",
            "feet_per_hour",
            "feet_per_minute",
            "knots_international",
            "speed_of_light",
            "speed_of_sound",
            "mach",
            "speed_of_light_vacuum",
            "speed_of_light_water",
            "speed_of_light_glass",
            "speed_of_light_diamond",
        ]
    def __init__(self, value=None):
        self.value = value
        self.unit_symbols = {
            "meters_per_second": "m/s",
            "kilometers_per_hour": "km/h",
            "miles_per_hour": "mph",
            "knots": "kn",
            "minutes_per_kilometer": "min/km",
            "feet_per_second": "ft/s",
            "kilometers_per_second": "km/s",
            "meters_per_hour": "m/h",
            "kilometers_per_minute": "km/min",
            "miles_per_second": "mi/s",
            "miles_per_minute": "mi/min",
            "feet_per_hour": "ft/h",
            "feet_per_minute": "ft/min",
            "knots_international": "kn",
            "speed_of_light": "c",
            "speed_of_sound": "M",
            "mach": "Mach",
            "speed_of_light_vacuum": "c_vacuum",
            "speed_of_light_water": "c_water",
            "speed_of_light_glass": "c_glass",
            "speed_of_light_diamond": "c_diamond",
        }
        self.conversions = {
            "meters_per_second": {
                "meters_per_second": lambda x: x,
                "kilometers_per_hour": lambda x: x * 3.6,
                "miles_per_hour": lambda x: x * 2.23694,
                "knots": lambda x: x * 1.94384,
                "minutes_per_kilometer": lambda x: 1 / (x * 0.06),
                "feet_per_second": lambda x: x * 3.28084,
                "kilometers_per_second": lambda x: x / 1000,
                "meters_per_hour": lambda x: x * 3600,
                "kilometers_per_minute": lambda x: x * 0.06,
                "miles_per_second": lambda x: x * 0.000621371,
                "miles_per_minute": lambda x: x * 0.0372823,
                "feet_per_hour": lambda x: x * 11811.0236,
                "feet_per_minute": lambda x: x * 196.850394,
                "knots_international": lambda x: x * 1.94384,
                "speed_of_light": lambda x: x / 299792458,
                "speed_of_sound": lambda x: x / 343,
            },
            "kilometers_per_hour": {
                "meters_per_second": lambda x: x / 3.6,
                "kilometers_per_hour": lambda x: x,
                "miles_per_hour": lambda x: x * 0.621371,
                "knots": lambda x: x / 1.852,
                "minutes_per_kilometer": lambda x: 60 / x,
                "feet_per_second": lambda x: x * 0.911344,
                "kilometers_per_second": lambda x: x / 3600,
                "meters_per_hour": lambda x: x * 1000,
                "kilometers_per_minute": lambda x: x / 60,
                "miles_per_second": lambda x: x * 0.000172603,
                "miles_per_minute": lambda x: x * 0.0103562,
                "feet_per_hour": lambda x: x * 3280.84,
                "feet_per_minute": lambda x: x * 54.6807,
                "knots_international": lambda x: x / 1.852,
                "speed_of_light": lambda x: x / 1079252848.8,
                "speed_of_sound": lambda x: x / 1234.8,
            },
            "miles_per_hour": {
                "meters_per_second": lambda x: x / 2.23694,
                "kilometers_per_hour": lambda x: x / 0.621371,
                "miles_per_hour": lambda x: x,
                "knots": lambda x: x / 1.15078,
                "minutes_per_kilometer": lambda x: 37.2822715 / x,
                "feet_per_second": lambda x: x * 1.46667,
                "kilometers_per_second": lambda x: x / 2236.94,
                "meters_per_hour": lambda x: x * 1609.34,
                "kilometers_per_minute": lambda x: x / 37.2823,
                "miles_per_second": lambda x: x / 3600,
                "miles_per_minute": lambda x: x / 60,
                "feet_per_hour": lambda x: x * 5280,
                "feet_per_minute": lambda x: x * 88,
                "knots_international": lambda x: x / 1.15078,
                "speed_of_light": lambda x: x / 670616629.3844,
                "speed_of_sound": lambda x: x / 767.269,
            },
            "knots": {
                "meters_per_second": lambda x: x / 1.94384,
                "kilometers_per_hour": lambda x: x * 1.852,
                "miles_per_hour": lambda x: x * 1.15078,
                "knots": lambda x: x,
                "minutes_per_kilometer": lambda x: 32.3974082 / x,
                "feet_per_second": lambda x: x * 1.68781,
                "kilometers_per_second": lambda x: x / 1943.84,
                "meters_per_hour": lambda x: x * 1852,
                "kilometers_per_minute": lambda x: x * 0.0308667,
                "miles_per_second": lambda x: x * 0.000319728,
                "miles_per_minute": lambda x: x * 0.0191831,
                "feet_per_hour": lambda x: x * 6076.12,
                "feet_per_minute": lambda x: x * 101.269,
                "knots_international": lambda x: x,
                "speed_of_light": lambda x: x / 573248.109,
                "speed_of_sound": lambda x: x / 661.478,
            },
            "minutes_per_kilometer": {
                "meters_per_second": lambda x: 1 / (x * 0.06),
                "kilometers_per_hour": lambda x: 60 / x,
                "miles_per_hour": lambda x: 37.2822715 / x,
                "knots": lambda x: 32.3974082 / x,
                "minutes_per_kilometer": lambda x: x,
                "feet_per_second": lambda x: 196.850394 / x,
                "kilometers_per_second": lambda x: 1 / (x * 3600),
                "meters_per_hour": lambda x: 60000 / x,
                "kilometers_per_minute": lambda x: 1 / x,
                "miles_per_second": lambda x: 0.0103562 / x,
                "miles_per_minute": lambda x: 0.621371 / x,
                "feet_per_hour": lambda x: 118110.23622 / x,
                "feet_per_minute": lambda x: 1968.503937 / x,
                "knots_international": lambda x: 32.3974082 / x,
                "speed_of_light": lambda x: 1 / (x * 216000000),
                "speed_of_sound": lambda x: 1 / (x * 1234.8),
            },
            "feet_per_second": {
                "meters_per_second": lambda x: x * 0.3048,
                "kilometers_per_hour": lambda x: x * 1.09728,
                "miles_per_hour": lambda x: x * 0.681818,
                "knots": lambda x: x * 0.592484,
                "minutes_per_kilometer": lambda x: 18.288 / x,
                "kilometers_per_second": lambda x: x * 0.0003048,
                "meters_per_hour": lambda x: x * 1097.28,
                "kilometers_per_minute": lambda x: x * 0.018288,
                "miles_per_second": lambda x: x * 0.000189394,
                "miles_per_minute": lambda x: x * 0.0113636,
                "feet_per_hour": lambda x: x * 3600,
                "feet_per_minute": lambda x: x * 60,
                "knots_international": lambda x: x * 0.592484,
                "speed_of_light": lambda x: x / 983571048,
                "speed_of_sound": lambda x: x / 1125.33,
            },
            "kilometers_per_second": {
                "meters_per_second": lambda x: x * 1000,
                "kilometers_per_hour": lambda x: x * 3600,
                "miles_per_hour": lambda x: x * 2236.94,
                "knots": lambda x: x * 1943.84,
                "minutes_per_kilometer": lambda x: 1 / (x * 60),
                "feet_per_second": lambda x: x * 3280.84,
                "kilometers_per_second": lambda x: x,
                "meters_per_hour": lambda x: x * 3600000,
                "kilometers_per_minute": lambda x: x * 60,
                "miles_per_second": lambda x: x * 0.621371,
                "miles_per_minute": lambda x: x * 37.2823,
                "feet_per_hour": lambda x: x * 11811023.622,
                "feet_per_minute": lambda x: x * 196850.394,
                "knots_international": lambda x: x * 1943.84,
                "speed_of_light": lambda x: x / 299.792458,
                "speed_of_sound": lambda x: x / 0.343,
            },
            "meters_per_hour": {
                "meters_per_second": lambda x: x / 3600,
                "kilometers_per_hour": lambda x: x / 1000,
                "miles_per_hour": lambda x: x * 0.000621371,
                "knots": lambda x: x * 0.000539957,
                "minutes_per_kilometer": lambda x: 60000 / x,
                "feet_per_second": lambda x: x * 0.000911344,
                "kilometers_per_second": lambda x: x / 3600000,
                "meters_per_hour": lambda x: x,
                "kilometers_per_minute": lambda x: x / 60000,
                "miles_per_second": lambda x: x * 0.000000189394,
                "miles_per_minute": lambda x: x * 0.0000113636,
                "feet_per_hour": lambda x: x * 3.28084,
                "feet_per_minute": lambda x: x * 0.0546807,
                "knots_international": lambda x: x * 0.000539957,
                "speed_of_light": lambda x: x / 1079252848.8,
                "speed_of_sound": lambda x: x / 1234.8,
            },
            "kilometers_per_minute": {
                "meters_per_second": lambda x: x * 16.6667,
                "kilometers_per_hour": lambda x: x * 60,
                "miles_per_hour": lambda x: x * 37.2823,
                "knots": lambda x: x * 32.3974,
                "minutes_per_kilometer": lambda x: 1 / x,
                "feet_per_second": lambda x: x * 54.6807,
                "kilometers_per_second": lambda x: x / 60,
                "meters_per_hour": lambda x: x * 60000,
                "kilometers_per_minute": lambda x: x,
                "miles_per_second": lambda x: x * 0.0103562,
                "miles_per_minute": lambda x: x * 0.621371,
                "feet_per_hour": lambda x: x * 196850.394,
                "feet_per_minute": lambda x: x * 3280.84,
                "knots_international": lambda x: x * 32.3974,
                "speed_of_light": lambda x: x / 4996.54,
                "speed_of_sound": lambda x: x / 20.58,
            },
            "miles_per_second": {
                "meters_per_second": lambda x: x * 1609.34,
                "kilometers_per_hour": lambda x: x * 5793.64,
                "miles_per_hour": lambda x: x * 3600,
                "knots": lambda x: x * 3128.31,
                "minutes_per_kilometer": lambda x: 1 / (x * 96.5606),
                "feet_per_second": lambda x: x * 5280,
                "kilometers_per_second": lambda x: x * 1.60934,
                "meters_per_hour": lambda x: x * 5793640,
                "kilometers_per_minute": lambda x: x * 95.5643,
                "miles_per_second": lambda x: x,
                "miles_per_minute": lambda x: x * 60,
                "feet_per_hour": lambda x: x * 19008000,
                "feet_per_minute": lambda x: x * 316800,
                "knots_international": lambda x: x * 3128.31,
                "speed_of_light": lambda x: x / 186282,
                "speed_of_sound": lambda x: x / 1116.44,
            },
            "miles_per_minute": {
                "meters_per_second": lambda x: x * 26.8224,
                "kilometers_per_hour": lambda x: x * 96.5606,
                "miles_per_hour": lambda x: x * 60,
                "knots": lambda x: x * 52.1385,
                "minutes_per_kilometer": lambda x: 1 / (x * 1.60934),
                "feet_per_second": lambda x: x * 88,
                "kilometers_per_second": lambda x: x * 0.0268224,
                "meters_per_hour": lambda x: x * 96560.6,
                "kilometers_per_minute": lambda x: x * 1.60934,
                "miles_per_second": lambda x: x / 60,
                "miles_per_minute": lambda x: x,
                "feet_per_hour": lambda x: x * 316800,
                "feet_per_minute": lambda x: x * 5280,
                "knots_international": lambda x: x * 52.1385,
                "speed_of_light": lambda x: x / 11118.3,
                "speed_of_sound": lambda x: x / 18.6073,
            },
            "feet_per_hour": {
                "meters_per_second": lambda x: x * 0.0000846667,
                "kilometers_per_hour": lambda x: x * 0.0003048,
                "miles_per_hour": lambda x: x * 0.000189394,
                "knots": lambda x: x * 0.000164579,
                "minutes_per_kilometer": lambda x: 3280.84 / x,
                "feet_per_second": lambda x: x * 0.000277778,
                "kilometers_per_second": lambda x: x * 0.0000000846667,
                "meters_per_hour": lambda x: x * 0.3048,
                "kilometers_per_minute": lambda x: x * 0.00000508,
                "miles_per_second": lambda x: x * 0.0000000568182,
                "miles_per_minute": lambda x: x * 0.00000340909,
                "feet_per_hour": lambda x: x,
                "feet_per_minute": lambda x: x * 0.0166667,
                "knots_international": lambda x: x * 0.000164579,
                "speed_of_light": lambda x: x / 983571048000,
                "speed_of_sound": lambda x: x / 1125333.33,
            },
            "feet_per_minute": {
                "meters_per_second": lambda x: x * 0.00508,
                "kilometers_per_hour": lambda x: x * 0.018288,
                "miles_per_hour": lambda x: x * 0.0113636,
                "knots": lambda x: x * 0.00987473,
                "minutes_per_kilometer": lambda x: 54.6807 / x,
                "feet_per_second": lambda x: x * 0.0166667,
                "kilometers_per_second": lambda x: x * 0.00000508,
                "meters_per_hour": lambda x: x * 18.288,
                "kilometers_per_minute": lambda x: x * 0.0003048,
                "miles_per_second": lambda x: x * 0.00000340909,
                "miles_per_minute": lambda x: x * 0.000204545,
                "feet_per_hour": lambda x: x * 60,
                "feet_per_minute": lambda x: x,
                "knots_international": lambda x: x * 0.00987473,
                "speed_of_light": lambda x: x / 16360222067.2,
                "speed_of_sound": lambda x: x / 18766.7,
            },
            "knots_international": {
                "meters_per_second": lambda x: x * 0.514444,
                "kilometers_per_hour": lambda x: x * 1.852,
                "miles_per_hour": lambda x: x * 1.15078,
                "knots": lambda x: x,
                "minutes_per_kilometer": lambda x: 32.3974 / x,
                "feet_per_second": lambda x: x * 1.68781,
                "kilometers_per_second": lambda x: x * 0.000514444,
                "meters_per_hour": lambda x: x * 1852,
                "kilometers_per_minute": lambda x: x * 0.0308667,
                "miles_per_second": lambda x: x * 0.000319728,
                "miles_per_minute": lambda x: x * 0.0191831,
                "feet_per_hour": lambda x: x * 6076.12,
                "feet_per_minute": lambda x: x * 101.269,
                "knots_international": lambda x: x,
                "speed_of_light": lambda x: x / 573248.109,
                "speed_of_sound": lambda x: x / 661.478,
            },
            "speed_of_light": {
                "meters_per_second": lambda x: x * 299792458,
                "kilometers_per_hour": lambda x: x * 1079252848.8,
                "miles_per_hour": lambda x: x * 670616629.3844,
                "knots": lambda x: x * 582749918.2,
                "minutes_per_kilometer": lambda x: 1 / (x * 17987547.5),
                "feet_per_second": lambda x: x * 983571048,
                "kilometers_per_second": lambda x: x * 299792.458,
                "meters_per_hour": lambda x: x * 1079252848800,
                "kilometers_per_minute": lambda x: x * 4996546.41,
                "miles_per_second": lambda x: x * 186282,
                "miles_per_minute": lambda x: x * 11176800,
                "feet_per_hour": lambda x: x * 9835710480000,
                "feet_per_minute": lambda x: x * 163928508000,
                "knots_international": lambda x: x * 582749918.2,
                "speed_of_light": lambda x: x,
                "speed_of_sound": lambda x: x * 874030.7,
            },
            "speed_of_sound": {
                "meters_per_second": lambda x: x * 343,
                "kilometers_per_hour": lambda x: x * 1234.8,
                "miles_per_hour": lambda x: x * 767.269,
                "knots": lambda x: x * 661.478,
                "minutes_per_kilometer": lambda x: 1 / (x * 20.58),
                "feet_per_second": lambda x: x * 1125.33,
                "kilometers_per_second": lambda x: x * 0.343,
                "meters_per_hour": lambda x: x * 1234800,
                "kilometers_per_minute": lambda x: x * 20.58,
                "miles_per_second": lambda x: x * 0.213136,
                "miles_per_minute": lambda x: x * 12.7882,
                "feet_per_hour": lambda x: x * 4053360,
                "feet_per_minute": lambda x: x * 67556,
                "knots_international": lambda x: x * 661.478,
                "speed_of_light": lambda x: x / 874030.7,
                "speed_of_sound": lambda x: x,
            },
            "mach": {
                "meters_per_second": lambda x: x * 343,
                "kilometers_per_hour": lambda x: x * 1234.8,
                "miles_per_hour": lambda x: x * 767.269,
                "knots": lambda x: x * 661.478,
                "minutes_per_kilometer": lambda x: 1 / (x * 20.58),
                "feet_per_second": lambda x: x * 1125.33,
                "kilometers_per_second": lambda x: x * 0.343,
                "meters_per_hour": lambda x: x * 1234800,
                "kilometers_per_minute": lambda x: x * 20.58,
                "miles_per_second": lambda x: x * 0.213136,
                "miles_per_minute": lambda x: x * 12.7882,
                "feet_per_hour": lambda x: x * 4053360,
                "feet_per_minute": lambda x: x * 67556,
                "knots_international": lambda x: x * 661.478,
                "speed_of_light": lambda x: x / 874030.7,
                "speed_of_sound": lambda x: x,
            },
            "speed_of_light_vacuum": {
                "meters_per_second": lambda x: x * 299792458,
                "kilometers_per_hour": lambda x: x * 1079252848.8,
                "miles_per_hour": lambda x: x * 670616629.3844,
                "knots": lambda x: x * 582749918.2,
                "minutes_per_kilometer": lambda x: 1 / (x * 17987547.5),
                "feet_per_second": lambda x: x * 983571048,
                "kilometers_per_second": lambda x: x * 299792.458,
                "meters_per_hour": lambda x: x * 1079252848800,
                "kilometers_per_minute": lambda x: x * 4996546.41,
                "miles_per_second": lambda x: x * 186282,
                "miles_per_minute": lambda x: x * 11176800,
                "feet_per_hour": lambda x: x * 9835710480000,
                "feet_per_minute": lambda x: x * 163928508000,
                "knots_international": lambda x: x * 582749918.2,
                "speed_of_light": lambda x: x,
                "speed_of_sound": lambda x: x * 874030.7,
            },
            "speed_of_light_water": {
                "meters_per_second": lambda x: x * 225000000,
                "kilometers_per_hour": lambda x: x * 810000000,
                "miles_per_hour": lambda x: x * 503331130.573,
                "knots": lambda x: x * 437445360.17,
                "minutes_per_kilometer": lambda x: 1 / (x * 13500000),
                "feet_per_second": lambda x: x * 738197.5,
                "kilometers_per_second": lambda x: x * 225,
                "meters_per_hour": lambda x: x * 810000000000,
                "kilometers_per_minute": lambda x: x * 13500,
                "miles_per_second": lambda x: x * 139.808,
                "miles_per_minute": lambda x: x * 8388.48,
                "feet_per_hour": lambda x: x * 2655224000000,
                "feet_per_minute": lambda x: x * 44253733333.3,
                "knots_international": lambda x: x * 437445360.17,
                "speed_of_light": lambda x: x / 1.333,
                "speed_of_sound": lambda x: x * 655.314,
            },
            "speed_of_light_glass": {
                "meters_per_second": lambda x: x * 200000000,
                "kilometers_per_hour": lambda x: x * 720000000,
                "miles_per_hour": lambda x: x * 447387603.898,
                "knots": lambda x: x * 388809240.15,
                "minutes_per_kilometer": lambda x: 1 / (x * 12000000),
                "feet_per_second": lambda x: x * 656167.979,
                "kilometers_per_second": lambda x: x * 200,
                "meters_per_hour": lambda x: x * 720000000000,
                "kilometers_per_minute": lambda x: x * 12000,
                "miles_per_second": lambda x: x * 124.274,
                "miles_per_minute": lambda x: x * 7456.44,
                "feet_per_hour": lambda x: x * 2362208000000,
                "feet_per_minute": lambda x: x * 39370133333.3,
                "knots_international": lambda x: x * 388809240.15,
                "speed_of_light": lambda x: x / 1.5,
                "speed_of_sound": lambda x: x * 582.749,
            },
            "speed_of_light_diamond": {
                "meters_per_second": lambda x: x * 123000000,
                "kilometers_per_hour": lambda x: x * 442800000,
                "miles_per_hour": lambda x: x * 275019685.682,
                "knots": lambda x: x * 238980440.092,
                "minutes_per_kilometer": lambda x: 1 / (x * 7380000),
                "feet_per_second": lambda x: x * 403543.307,
                "kilometers_per_second": lambda x: x * 123,
                "meters_per_hour": lambda x: x * 442800000000,
                "kilometers_per_minute": lambda x: x * 7380,
                "miles_per_second": lambda x: x * 76.3941,
                "miles_per_minute": lambda x: x * 4583.65,
                "feet_per_hour": lambda x: x * 1453411200000,
                "feet_per_minute": lambda x: x * 24223520000,
                "knots_international": lambda x: x * 238980440.092,
                "speed_of_light": lambda x: x / 2.419,
                "speed_of_sound": lambda x: x * 358.614,
            },
        }

    def get_formula(self, source_unit: str, target_unit: str) -> str:
        source_unit = source_unit.lower()
        target_unit = target_unit.lower()

        formulas = {
            "meters_per_second": {
                "meters_per_second": "x",
                "kilometers_per_hour": "x * 3.6",
                "miles_per_hour": "x * 2.23694",
                "knots": "x * 1.94384",
                "minutes_per_kilometer": "1 / (x * 0.06)",
                "feet_per_second": "x * 3.28084",
                "kilometers_per_second": "x / 1000",
                "meters_per_hour": "x * 3600",
                "kilometers_per_minute": "x * 0.06",
                "miles_per_second": "x * 0.000621371",
                "miles_per_minute": "x * 0.0372823",
                "feet_per_hour": "x * 11811.0236",
                "feet_per_minute": "x * 196.850394",
                "knots_international": "x * 1.94384",
                "speed_of_light": "x / 299792458",
                "speed_of_sound": "x / 343",
            },
            "kilometers_per_hour": {
                "meters_per_second": "x / 3.6",
                "kilometers_per_hour": "x",
                "miles_per_hour": "x * 0.621371",
                "knots": "x / 1.852",
                "minutes_per_kilometer": "60 / x",
                "feet_per_second": "x * 0.911344",
                "kilometers_per_second": "x / 3600",
                "meters_per_hour": "x * 1000",
                "kilometers_per_minute": "x / 60",
                "miles_per_second": "x * 0.000172603",
                "miles_per_minute": "x * 0.0103562",
                "feet_per_hour": "x * 3280.84",
                "feet_per_minute": "x * 54.6807",
                "knots_international": "x / 1.852",
                "speed_of_light": "x / 1079252848.8",
                "speed_of_sound": "x / 1234.8",
            },
            "miles_per_hour": {
                "meters_per_second": "x / 2.23694",
                "kilometers_per_hour": "x / 0.621371",
                "miles_per_hour": "x",
                "knots": "x / 1.15078",
                "minutes_per_kilometer": "37.2822715 / x",
                "feet_per_second": "x * 1.46667",
                "kilometers_per_second": "x / 2236.94",
                "meters_per_hour": "x * 1609.34",
                "kilometers_per_minute": "x / 37.2823",
                "miles_per_second": "x / 3600",
                "miles_per_minute": "x / 60",
                "feet_per_hour": "x * 5280",
                "feet_per_minute": "x * 88",
                "knots_international": "x / 1.15078",
                "speed_of_light": "x / 670616629.3844",
                "speed_of_sound": "x / 767.269",
            },
            "knots": {
                "meters_per_second": "x / 1.94384",
                "kilometers_per_hour": "x * 1.852",
                "miles_per_hour": "x * 1.15078",
                "knots": "x",
                "minutes_per_kilometer": "32.3974082 / x",
                "feet_per_second": "x * 1.68781",
                "kilometers_per_second": "x / 1943.84",
                "meters_per_hour": "x * 1852",
                "kilometers_per_minute": "x * 0.0308667",
                "miles_per_second": "x * 0.000319728",
                "miles_per_minute": "x * 0.0191831",
                "feet_per_hour": "x * 6076.12",
                "feet_per_minute": "x * 101.269",
                "knots_international": "x",
                "speed_of_light": "x / 573248.109",
                "speed_of_sound": "x / 661.478",
            },
            "minutes_per_kilometer": {
                "meters_per_second": "1 / (x * 0.06)",
                "kilometers_per_hour": "60 / x",
                "miles_per_hour": "37.2822715 / x",
                "knots": "32.3974082 / x",
                "minutes_per_kilometer": "x",
                "feet_per_second": "196.850394 / x",
                "kilometers_per_second": "1 / (x * 3600)",
                "meters_per_hour": "60000 / x",
                "kilometers_per_minute": "1 / x",
                "miles_per_second": "0.0103562 / x",
                "miles_per_minute": "0.621371 / x",
                "feet_per_hour": "118110.23622 / x",
                "feet_per_minute": "1968.503937 / x",
                "knots_international": "32.3974082 / x",
                "speed_of_light": "1 / (x * 216000000)",
                "speed_of_sound": "1 / (x * 1234.8)",
            },
            "feet_per_second": {
                "meters_per_second": "x * 0.3048",
                "kilometers_per_hour": "x * 1.09728",
                "miles_per_hour": "x * 0.681818",
                "knots": "x * 0.592484",
                "minutes_per_kilometer": "18.288 / x",
                "kilometers_per_second": "x * 0.0003048",
                "meters_per_hour": "x * 1097.28",
                "kilometers_per_minute": "x * 0.018288",
                "miles_per_second": "x * 0.000189394",
                "miles_per_minute": "x * 0.0113636",
                "feet_per_hour": "x * 3600",
                "feet_per_minute": "x * 60",
                "knots_international": "x * 0.592484",
                "speed_of_light": "x / 983571048",
                "speed_of_sound": "x / 1125.33",
            },
            "kilometers_per_second": {
                "meters_per_second": "x * 1000",
                "kilometers_per_hour": "x * 3600",
                "miles_per_hour": "x * 2236.94",
                "knots": "x * 1943.84",
                "minutes_per_kilometer": "1 / (x * 60)",
                "feet_per_second": "x * 3280.84",
                "kilometers_per_second": "x",
                "meters_per_hour": "x * 3600000",
                "kilometers_per_minute": "x * 60",
                "miles_per_second": "x * 0.621371",
                "miles_per_minute": "x * 37.2823",
                "feet_per_hour": "x * 11811023.622",
                "feet_per_minute": "x * 196850.394",
                "knots_international": "x * 1943.84",
                "speed_of_light": "x / 299.792458",
                "speed_of_sound": "x / 0.343",
            },
            "meters_per_hour": {
                "meters_per_second": "x / 3600",
                "kilometers_per_hour": "x / 1000",
                "miles_per_hour": "x * 0.000621371",
                "knots": "x * 0.000539957",
                "minutes_per_kilometer": "60000 / x",
                "feet_per_second": "x * 0.000911344",
                "kilometers_per_second": "x / 3600000",
                "meters_per_hour": "x",
                "kilometers_per_minute": "x / 60000",
                "miles_per_second": "x * 0.000000189394",
                "miles_per_minute": "x * 0.0000113636",
                "feet_per_hour": "x * 3.28084",
                "feet_per_minute": "x * 0.0546807",
                "knots_international": "x * 0.000539957",
                "speed_of_light": "x / 1079252848.8",
                "speed_of_sound": "x / 1234.8",
            },
            "kilometers_per_minute": {
                "meters_per_second": "x * 16.6667",
                "kilometers_per_hour": "x * 60",
                "miles_per_hour": "x * 37.2823",
                "knots": "x * 32.3974",
                "minutes_per_kilometer": "1 / x",
                "feet_per_second": "x * 54.6807",
                "kilometers_per_second": "x / 60",
                "meters_per_hour": "x * 60000",
                "kilometers_per_minute": "x",
                "miles_per_second": "x * 0.0103562",
                "miles_per_minute": "x * 0.621371",
                "feet_per_hour": "x * 196850.394",
                "feet_per_minute": "x * 3280.84",
                "knots_international": "x * 32.3974",
                "speed_of_light": "x / 4996.54",
                "speed_of_sound": "x / 20.58",
            },
            "miles_per_second": {
                "meters_per_second": "x * 1609.34",
                "kilometers_per_hour": "x * 5793.64",
                "miles_per_hour": "x * 3600",
                "knots": "x * 3128.31",
                "minutes_per_kilometer": "1 / (x * 96.5606)",
                "feet_per_second": "x * 5280",
                "kilometers_per_second": "x * 1.60934",
                "meters_per_hour": "x * 5793640",
                "kilometers_per_minute": "x * 95.5643",
                "miles_per_second": "x",
                "miles_per_minute": "x * 60",
                "feet_per_hour": "x * 19008000",
                "feet_per_minute": "x * 316800",
                "knots_international": "x * 3128.31",
                "speed_of_light": "x / 186282",
                "speed_of_sound": "x / 1116.44",
            },
            "miles_per_minute": {
                "meters_per_second": "x * 26.8224",
                "kilometers_per_hour": "x * 96.5606",
                "miles_per_hour": "x * 60",
                "knots": "x * 52.1385",
                "minutes_per_kilometer": "1 / (x * 1.60934)",
                "feet_per_second": "x * 88",
                "kilometers_per_second": "x * 0.0268224",
                "meters_per_hour": "x * 96560.6",
                "kilometers_per_minute": "x * 1.60934",
                "miles_per_second": "x / 60",
                "miles_per_minute": "x",
                "feet_per_hour": "x * 316800",
                "feet_per_minute": "x * 5280",
                "knots_international": "x * 52.1385",
                "speed_of_light": "x / 11118.3",
                "speed_of_sound": "x / 18.6073",
            },
            "feet_per_hour": {
                "meters_per_second": "x * 0.0000846667",
                "kilometers_per_hour": "x * 0.0003048",
                "miles_per_hour": "x * 0.000189394",
                "knots": "x * 0.000164579",
                "minutes_per_kilometer": "3280.84 / x",
                "feet_per_second": "x * 0.000277778",
                "kilometers_per_second": "x * 0.0000000846667",
                "meters_per_hour": "x * 0.3048",
                "kilometers_per_minute": "x * 0.00000508",
                "miles_per_second": "x * 0.0000000568182",
                "miles_per_minute": "x * 0.00000340909",
                "feet_per_hour": "x",
                "feet_per_minute": "x * 0.0166667",
                "knots_international": "x * 0.000164579",
                "speed_of_light": "x / 983571048000",
                "speed_of_sound": "x / 1125333.33",
            },
            "feet_per_minute": {
                "meters_per_second": "x * 0.00508",
                "kilometers_per_hour": "x * 0.018288",
                "miles_per_hour": "x * 0.0113636",
                "knots": "x * 0.00987473",
                "minutes_per_kilometer": "54.6807 / x",
                "feet_per_second": "x * 0.0166667",
                "kilometers_per_second": "x * 0.00000508",
                "meters_per_hour": "x * 18.288",
                "kilometers_per_minute": "x * 0.0003048",
                "miles_per_second": "x * 0.00000340909",
                "miles_per_minute": "x * 0.000204545",
                "feet_per_hour": "x * 60",
                "feet_per_minute": "x",
                "knots_international": "x * 0.00987473",
                "speed_of_light": "x / 16360222067.2",
                "speed_of_sound": "x / 18766.7",
            },
            "knots_international": {
                "meters_per_second": "x * 0.514444",
                "kilometers_per_hour": "x * 1.852",
                "miles_per_hour": "x * 1.15078",
                "knots": "x",
                "minutes_per_kilometer": "32.3974 / x",
                "feet_per_second": "x * 1.68781",
                "kilometers_per_second": "x * 0.000514444",
                "meters_per_hour": "x * 1852",
                "kilometers_per_minute": "x * 0.0308667",
                "miles_per_second": "x * 0.000319728",
                "miles_per_minute": "x * 0.0191831",
                "feet_per_hour": "x * 6076.12",
                "feet_per_minute": "x * 101.269",
                "knots_international": "x",
                "speed_of_light": "x / 573248.109",
                "speed_of_sound": "x / 661.478",
            },
            "speed_of_light": {
                "meters_per_second": "x * 299792458",
                "kilometers_per_hour": "x * 1079252848.8",
                "miles_per_hour": "x * 670616629.3844",
                "knots": "x * 582749918.2",
                "minutes_per_kilometer": "1 / (x * 17987547.5)",
                "feet_per_second": "x * 983571048",
                "kilometers_per_second": "x * 299792.458",
                "meters_per_hour": "x * 1079252848800",
                "kilometers_per_minute": "x * 4996546.41",
                "miles_per_second": "x * 186282",
                "miles_per_minute": "x * 11176800",
                "feet_per_hour": "x * 9835710480000",
                "feet_per_minute": "x * 163928508000",
                "knots_international": "x * 582749918.2",
                "speed_of_light": "x",
                "speed_of_sound": "x * 874030.7",
            },
            "speed_of_sound": {
                "meters_per_second": "x * 343",
                "kilometers_per_hour": "x * 1234.8",
                "miles_per_hour": "x * 767.269",
                "knots": "x * 661.478",
                "minutes_per_kilometer": "1 / (x * 20.58)",
                "feet_per_second": "x * 1125.33",
                "kilometers_per_second": "x * 0.343",
                "meters_per_hour": "x * 1234800",
                "kilometers_per_minute": "x * 20.58",
                "miles_per_second": "x * 0.213136",
                "miles_per_minute": "x * 12.7882",
                "feet_per_hour": "x * 4053360",
                "feet_per_minute": "x * 67556",
                "knots_international": "x * 661.478",
                "speed_of_light": "x / 874030.7",
                "speed_of_sound": "x",
            },
            "mach": {
                "meters_per_second": "x * 343",
                "kilometers_per_hour": "x * 1234.8",
                "miles_per_hour": "x * 767.269",
                "knots": "x * 661.478",
                "minutes_per_kilometer": "1 / (x * 20.58)",
                "feet_per_second": "x * 1125.33",
                "kilometers_per_second": "x * 0.343",
                "meters_per_hour": "x * 1234800",
                "kilometers_per_minute": "x * 20.58",
                "miles_per_second": "x * 0.213136",
                "miles_per_minute": "x * 12.7882",
                "feet_per_hour": "x * 4053360",
                "feet_per_minute": "x * 67556",
                "knots_international": "x * 661.478",
                "speed_of_light": "x / 874030.7",
                "speed_of_sound": "x",
            },
            "speed_of_light_vacuum": {
                "meters_per_second": "x * 299792458",
                "kilometers_per_hour": "x * 1079252848.8",
                "miles_per_hour": "x * 670616629.3844",
                "knots": "x * 582749918.2",
                "minutes_per_kilometer": "1 / (x * 17987547.5)",
                "feet_per_second": "x * 983571048",
                "kilometers_per_second": "x * 299792.458",
                "meters_per_hour": "x * 1079252848800",
                "kilometers_per_minute": "x * 4996546.41",
                "miles_per_second": "x * 186282",
                "miles_per_minute": "x * 11176800",
                "feet_per_hour": "x * 9835710480000",
                "feet_per_minute": "x * 163928508000",
                "knots_international": "x * 582749918.2",
                "speed_of_light": "x",
                "speed_of_sound": "x * 874030.7",
            },
            "speed_of_light_water": {
                "meters_per_second": "x * 225000000",
                "kilometers_per_hour": "x * 810000000",
                "miles_per_hour": "x * 503331130.573",
                "knots": "x * 437445360.17",
                "minutes_per_kilometer": "1 / (x * 13500000)",
                "feet_per_second": "x * 738197.5",
                "kilometers_per_second": "x * 225",
                "meters_per_hour": "x * 810000000000",
                "kilometers_per_minute": "x * 13500",
                "miles_per_second": "x * 139.808",
                "miles_per_minute": "x * 8388.48",
                "feet_per_hour": "x * 2655224000000",
                "feet_per_minute": "x * 44253733333.3",
                "knots_international": "x * 437445360.17",
                "speed_of_light": "x / 1.333",
                "speed_of_sound": "x * 655.314",
            },
            "speed_of_light_glass": {
                "meters_per_second": "x * 200000000",
                "kilometers_per_hour": "x * 720000000",
                "miles_per_hour": "x * 447387603.898",
                "knots": "x * 388809240.15",
                "minutes_per_kilometer": "1 / (x * 12000000)",
                "feet_per_second": "x * 656167.979",
                "kilometers_per_second": "x * 200",
                "meters_per_hour": "x * 720000000000",
                "kilometers_per_minute": "x * 12000",
                "miles_per_second": "x * 124.274",
                "miles_per_minute": "x * 7456.44",
                "feet_per_hour": "x * 2362208000000",
                "feet_per_minute": "x * 39370133333.3",
                "knots_international": "x * 388809240.15",
                "speed_of_light": "x / 1.5",
                "speed_of_sound": "x * 582.749",
            },
            "speed_of_light_diamond": {
                "meters_per_second": "x * 123000000",
                "kilometers_per_hour": "x * 442800000",
                "miles_per_hour": "x * 275019685.682",
                "knots": "x * 238980440.092",
                "minutes_per_kilometer": "1 / (x * 7380000)",
                "feet_per_second": "x * 403543.307",
                "kilometers_per_second": "x * 123",
                "meters_per_hour": "x * 442800000000",
                "kilometers_per_minute": "x * 7380",
                "miles_per_second": "x * 76.3941",
                "miles_per_minute": "x * 4583.65",
                "feet_per_hour": "x * 1453411200000",
                "feet_per_minute": "x * 24223520000",
                "knots_international": "x * 238980440.092",
                "speed_of_light": "x / 2.419",
                "speed_of_sound": "x * 358.614",
            },
        }

        if source_unit in formulas and target_unit in formulas[source_unit]:
            formula = formulas[source_unit][target_unit]
            return formula
        else:
            return "Formule non disponible."

    def convert(self, speed, original_unit, unit):
        source_unit = original_unit.lower()
        target_unit = unit.lower()

        if (
            source_unit in self.conversions
            and target_unit in self.conversions[source_unit]
        ):
            conversion_func = self.conversions[source_unit][target_unit]
            return conversion_func(self.value)
        else:
            raise ValueError("Unité cible non prise en charge.")
        
class SpeedFrame(ConversionFrame):
    def __init__(self, parent, conversion_func, error_callback):
        super().__init__(parent, conversion_func, ConvertSpeed.units, error_callback)

